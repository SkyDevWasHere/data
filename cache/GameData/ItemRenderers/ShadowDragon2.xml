<?xml version="1.0"?>
<ItemRenderer item="ITEM_ID_GROWTRONIC_GLIDER">
    <Data>
        <Sprite name="s_ray" fileName="game/shadow_dragon2.rttex" textureSize="208,112" frame="0,0" />
        <Sprite name="s_ray_fly" fileName="game/shadow_dragon_fly2.rttex" textureSize="224,128" frame="0,0" />
        <Sprite name="s_ray_extra" fileName="game/shadow_dragon_extra2.rttex" textureSize="224,128" frame="0,0" />
        <Sprite name="s_ray_walk" fileName="game/shadow_dragon_fly2.rttex" textureSize="224,128" frame="0,0" />
        <Sprite name="s_ray_fall" fileName="game/shadow_dragon_walk2.rttex" textureSize="224,128" frame="0,0" />
        <Sprite name="s_shoe1" fileName="game/player_feet.rttex" textureSize="32" frame="0,0" />
        <Sprite name="s_shoe2" fileName="game/player_feet.rttex" textureSize="32" frame="0,1" />
        <Sprite name="s_portal" fileName="game/particles2.rttex" textureSize="32" frame="2,3" />
        <Sprite name="s_portal1" fileName="game/particles9.rttex" textureSize="32" frame="28,2" />
        <Sprite name="s_aura" fileName="game/particles_large11.rttex" textureSize="64" frame="13,1" />
        <Sprite name="s_aura_fire" fileName="game/particles_large3.rttex" textureSize="64" frame="6,4" />
        <Sprite name="s_jump_prop1" fileName="game/particles6.rttex" textureSize="32" frame="5,1" />
        <Sprite name="s_idleFlame" fileName="game/particles9.rttex" textureSize="32" frame="6,3"/>
        <Sprite name="s_smoke" fileName="game/particles9.rttex" textureSize="32" frame="20,2"/>
        <Sprite name="s_snowflakes" fileName="game/particles4.rttex" textureSize="32"/>
        <Sprite name="s_PunchFireSprite" fileName="game/particles11.rttex" textureSize="32" frame="26,29" />
        <Sprite name="s_punchAura" fileName="game/particles_large11.rttex" textureSize="64" frame="8,10" />
        <Sprite name="s_trail" fileName="game/particles11.rttex" textureSize="32" frame="8,0" />
        <Sprite name="flameSprite" fileName="game/particles9.rttex" textureSize="32" frame="6,3" />
        <Sprite name="Portal_Gate" fileName="game/aura_eff.rttex" textureSize="78,72" frame="0,0" />
        <StateMachines>
            <StateMachine name="Punch">
                <States>
                    <State name="False" />
                    <State name="True" />
                </States>
                <Transitions>
                    <Transition from="False" to="True">
                        <Condition>
                            <IsAction>PUNCH</IsAction>
                        </Condition>
                    </Transition>
                    <Transition from="True" to="False">
                        <Condition>
                            <IsAction operatorType="NotEqual">PUNCH</IsAction>
                        </Condition>
                    </Transition>
                </Transitions>
            </StateMachine>
            <StateMachine name="Motion">
                <States>
                    <State name="Idle" />
                    <State name="Move" />
                    <State name="Jump" />
                    <State name="Fall" />
                    <State name="Punch"/>
                    <State name="Respawn"/>
                </States>
                <Transitions>
                    <Transition to="Idle" from="Fall|Move|Jump|Punch">
                        <Condition type="and">
                            <IsVariableBool name="onGround">true</IsVariableBool>
                            <IsVariableFloat name="speed.length" operator="Less" abs="true">0.1</IsVariableFloat>
                            <IsVariableBool name="isAttacking">false</IsVariableBool>
                            <IsAction operatorType="NotEqual">PUNCH</IsAction>
                        </Condition>
                    </Transition>
                    <Transition to="Move" from="Jump|Fall|Idle|Punch">
                        <Condition type="and">
                            <IsVariableBool name="onGround">true</IsVariableBool>
                            <IsVariableFloat name="speed.length" operator="Greater" abs="true">0.1</IsVariableFloat>
                            <IsAction operatorType="NotEqual">PUNCH</IsAction>
                        </Condition>
                    </Transition>
                    <Transition to="Jump" from="Idle|Move|Fall|Punch">
                        <Condition type="and">
                            <IsVariableBool name="onGround">false</IsVariableBool>
                            <IsVariableFloat name="speed.y" operator="Less">-0.1</IsVariableFloat>
                            <IsAction operatorType="NotEqual">PUNCH</IsAction>
                        </Condition>
                    </Transition>
                    <Transition to="Fall" from="Jump|Idle|Move|Punch">
                        <Condition type="and">
                            <IsVariableBool name="onGround">false</IsVariableBool>
                            <IsVariableFloat name="speed.y" operator="Greater">0.1</IsVariableFloat>
                            <IsAction operatorType="NotEqual">PUNCH</IsAction>
                        </Condition>
                    </Transition>
                    <Transition to="Punch" from="Idle|Move|Jump|Fall">
                        <Condition type="and">
                            <IsAction>PUNCH</IsAction>
                        </Condition>
                    </Transition>
                </Transitions>
            </StateMachine>
            <StateMachine name="Mobility">
                <States>
                    <State name="Stationary" />
                    <State name="Moving" />
                </States>
                <Transitions>
                    <Transition to="Stationary" from="Moving">
                        <Condition>
                            <IsVariableFloat name="speed.length" operator="Less" abs="true">0.1</IsVariableFloat>
                        </Condition>
                    </Transition>
                    <Transition to="Moving" from="Stationary">
                        <Condition>
                            <IsVariableFloat name="speed.length" operator="Greater" abs="true">0.1</IsVariableFloat>
                        </Condition>
                    </Transition>
                </Transitions>
            </StateMachine>
            <StateMachine name="Reveal">
                <States>
                    <State name="No" />
                    <State name="Done" />
                </States>
                <Transitions>
                    <Transition to="Done" from="No">
                        <Condition>
                            <IsAnimationFinished>a_reveal_left</IsAnimationFinished>
                        </Condition>
                    </Transition>
                </Transitions>
            </StateMachine>
            <StateMachine name="Facing">
                <States>
                    <State name="Left"/>
                    <State name="Right"/>
                </States>
                <Transitions>
                    <Transition to="Left" from="Right">
                        <Condition>
                            <IsFacingLeft>true</IsFacingLeft>
                        </Condition>
                    </Transition>
                    <Transition to="Right" from="Left">
                        <Condition>
                            <IsFacingLeft>false</IsFacingLeft>
                        </Condition>
                    </Transition>
                </Transitions>
            </StateMachine>
        </StateMachines>
        <Animations>
            <SpriteAnimation name="a_trail" sprite="s_trail" isLoop="true" autoPlay="true" animTime="800">
                <Frame>8,0</Frame>
                <Frame>9,0</Frame>
                <Frame>10,0</Frame>
                <Frame>11,0</Frame>
                <Frame>12,0</Frame>
                <Frame>13,0</Frame>
                <Frame>14,0</Frame>
                <Frame>15,0</Frame>
            </SpriteAnimation>
            <SpriteCurveAnimation name="a_reveal_left" autoPlay="true" sprite="s_ray_walk" animTime="3000" playOnState="Reveal.No">
                <Curve name="pos">
                    <KeyFrame>0, -320,-55.5</KeyFrame>
                    <KeyFrame>1, -35,-55.5</KeyFrame>
                </Curve>
            </SpriteCurveAnimation>
            <SpriteCurveAnimation name="a_reveal_Portal_Rotate" autoPlay="true" sprite="s_portal" isLoop="true" animTime="1200" playOnState="Reveal.No">
                <Curve name="rotation">
                    <KeyFrame>0, 0</KeyFrame>
                    <KeyFrame>1, 360</KeyFrame>
                </Curve>
            </SpriteCurveAnimation>
            <SpriteCurveAnimation name="a_reveal_Portal_Scale" autoPlay="true" sprite="s_portal" animTime="1000" playOnState="Reveal.No">
                <Curve name="scale">
                    <KeyFrame>0.f, 0f, 0f</KeyFrame>
                    <KeyFrame>1.f, 4f, 4f</KeyFrame>
                </Curve>
            </SpriteCurveAnimation>
            <SpriteCurveAnimation name="a_reveal_Portal_pos" autoPlay="true" sprite="s_portal" animTime="500" playOnState="Reveal.No">
                <Curve name="pos">
                    <KeyFrame>0, -255,-55.5</KeyFrame>
                    <KeyFrame>0, -255,-55.5</KeyFrame>
                </Curve>
            </SpriteCurveAnimation>
            <SpriteCurveAnimation name="a_reveal_portal_alpha" autoPlay="true" sprite="s_portal" animTime="2100" playOnState="Reveal.No">
                <Curve name="alpha">
                    <KeyFrame>0.f, 0.f</KeyFrame>
                    <KeyFrame>0.5.f, 1.f</KeyFrame>
                    <KeyFrame>0..f, 1.f</KeyFrame>
                    <KeyFrame>1.f, 0.f</KeyFrame>
                </Curve>
            </SpriteCurveAnimation>

            <SpriteCurveAnimation name="a_reveal_alpha" autoPlay="true" sprite="s_ray_walk" animTime="1200" playOnState="Reveal.No">
                <Curve name="alpha">
                    <KeyFrame>0.f, 0.f</KeyFrame>
                    <KeyFrame>1.f, 1.f</KeyFrame>
                </Curve>
            </SpriteCurveAnimation>

            <SpriteCurveAnimation name="a_reveal_Portal1_Rotate" autoPlay="true" sprite="s_portal1" isLoop="true" animTime="800" playOnState="Reveal.No">
                <Curve name="rotation">
                    <KeyFrame>0, 0</KeyFrame>
                    <KeyFrame>1, 360</KeyFrame>
                </Curve>
            </SpriteCurveAnimation>
            <SpriteCurveAnimation name="a_reveal_Portal1_Scale" autoPlay="true" sprite="s_portal1" animTime="1000" playOnState="Reveal.No">
                <Curve name="scale">
                    <KeyFrame>0.f, 0f, 0f</KeyFrame>
                    <KeyFrame>1.f, 7f, 7f</KeyFrame>
                </Curve>
            </SpriteCurveAnimation>
            <SpriteCurveAnimation name="a_reveal_Portal1_pos" autoPlay="true" sprite="s_portal1" animTime="500" playOnState="Reveal.No">
                <Curve name="pos">
                    <KeyFrame>0, -255,-55.5</KeyFrame>
                    <KeyFrame>0, -255,-55.5</KeyFrame>
                </Curve>
            </SpriteCurveAnimation>
            <SpriteCurveAnimation name="a_reveal_portal1_alpha" autoPlay="true" sprite="s_portal1" animTime="2100" playOnState="Reveal.No">
                <Curve name="alpha">
                    <KeyFrame>0.f, 0.f</KeyFrame>
                    <KeyFrame>0.5.f, 1.f</KeyFrame>
                    <KeyFrame>0..f, 1.f</KeyFrame>
                    <KeyFrame>1.f, 0.f</KeyFrame>
                </Curve>
            </SpriteCurveAnimation>

            <SpriteCurveAnimation name="a_reveal_alpha" autoPlay="true" sprite="s_ray_walk" animTime="2000" playOnState="Reveal.No">
                <Curve name="alpha">
                    <KeyFrame>0.f, 0.f</KeyFrame>
                    <KeyFrame>0.5.f, 0.f</KeyFrame>
                    <KeyFrame>1.f, 1.f</KeyFrame>
                </Curve>
            </SpriteCurveAnimation>

            <SpriteAnimation name="a_ray_idle" sprite="s_ray" animTime="800" isLoop="true" playOnState="Reveal.Done">
                <Frame>0,0</Frame>
                <Frame>1,0</Frame>
                <Frame>2,0</Frame>
                <Frame>3,0</Frame>
                <Frame>4,0</Frame>
            </SpriteAnimation>
            <SpriteAnimation name="a_snowflakes" sprite="s_snowflakes">
                <Frame>4,14</Frame>
                <Frame>5,14</Frame>
            </SpriteAnimation>
            <SpriteAnimation name="a_ray_move" sprite="s_ray_fly" animTime="800" isLoop="true" playOnState="Motion.Move|Motion.Jump">
                <Frame>0,0</Frame>
                <Frame>1,0</Frame>
                <Frame>2,0</Frame>
                <Frame>3,0</Frame>
                <Frame>4,0</Frame>
                <Frame>5,0</Frame>
            </SpriteAnimation>
            <SpriteAnimation name="a_ray_punch" sprite="s_ray_fly" animTime="800" isLoop="true" playOnState="Motion.Punch">
                <Frame>0,0</Frame>
                <Frame>1,0</Frame>
                <Frame>2,0</Frame>
                <Frame>3,0</Frame>
                <Frame>4,0</Frame>
                <Frame>5,0</Frame>
            </SpriteAnimation>
            <SpriteAnimation name="a_ray_extra" sprite="s_ray_extra" animTime="800" isLoop="true" playOnState="Motion.Move|Motion.Jump|Motion.Punch">
                <Frame>0,0</Frame>
                <Frame>1,0</Frame>
                <Frame>2,0</Frame>
                <Frame>3,0</Frame>
                <Frame>4,0</Frame>
                <Frame>5,0</Frame>
            </SpriteAnimation>
            <SpriteAnimation name="a_ray_fall" sprite="s_ray_fall" animTime="300" playOnState="Motion.Fall">
                <Frame>0,0</Frame>
                <Frame>1,0</Frame>
                <Frame>2,0</Frame>
                <Frame>3,0</Frame>
            </SpriteAnimation>
            <SpriteAnimation name="a_ray_walk" sprite="s_ray_walk" animTime="800" autoPlay="true" isLoop="true">
                <Frame>0,0</Frame>
                <Frame>1,0</Frame>
                <Frame>2,0</Frame>
                <Frame>3,0</Frame>
                <Frame>4,0</Frame>
                <Frame>5,0</Frame>
            </SpriteAnimation>
        </Animations>
        <RenderOptions>
            <Default>
                <Set name="ClothingOffsetFromShoes">0</Set>
                <Set name="IgnoreDefaultDamagedTileEffect">true</Set>
                <Set name="UserNameOffset">50</Set>
                <Set name="IncludeAllActions">true</Set>
                <Set name="HasDeathParticles">true</Set>
                <Set name="HideAngelOnDeath">true</Set>
                <Set name="HideAvatarOnDeath">true</Set>
                <Set name="IgnorePunchTypeCheck">true</Set>
            </Default>
            <Override overrideOnState="Mobility.Moving|Punch.True">
                <Set name="ClothingOffsetFromShoes">-60</Set>
            </Override>
            <Override overrideOnState="Reveal.Done">
                <Set name="ClothingOffsetFromShoes">-41.2</Set>
            </Override>
        </RenderOptions>
        <ParticleSystems>
        </ParticleSystems>
        <VariableMap>
        </VariableMap>
        <ParticleSystems>
            <ParticleSystem name="DeathParticle" updateStage="OnKilled" renderStage="RenderBehind">
				<Emitter>
					<Set name="lifeTime">1</Set>
					<Set name="emissionInterval">0.05</Set>
					<Set name="infParticles">true</Set>
					<Set name="particlesPerEmission">10</Set>
				</Emitter>
				<Particle>
					<Set name="sprite">flameSprite</Set>
					<Random name="offset" min="-30, -31" max="30, 31" />
					<Set name="renderAlignment">CENTER</Set>
					<Set name="blendingMode">ADDITIVE</Set>
					<Curve name="initialAlpha">
						<KeyFrame>0, 1</KeyFrame>
						<KeyFrame>1, 0</KeyFrame>
					</Curve>
					<Curve name="initialScale">
						<KeyFrame>0, 0.75, 0.75</KeyFrame>
						<KeyFrame>1, 3, 3</KeyFrame>
					</Curve>
					<Set name="lifeTime">0.4</Set>
					<Random name="initialVelocity" min="-25, -75" max="25, 20" />
				</Particle>
			</ParticleSystem>
            <ParticleSystem name="ps_RespawnBack" updateStage="OnKilled" renderStage="RenderBehind">
                <Emitter>
                    <Set name="offset">-5, 50</Set>
                    <Set name="lifeTime">1</Set>
                    <Set name="infParticles">true</Set>
                    <Set name="checkParticleNumToEmit">true</Set>
                    <Set name="particlesPerEmission">5</Set>
                    <Set name="particlesToEmit">1</Set>
                </Emitter>
                <Particle usePlayerFacing="true">
                    <Set name="sprite">s_punchAura</Set>
                    <Set name="relativeToEmitter">true</Set>
                    <Set name="inSpecificOrder">true</Set>
                    <Set name="initalRGB">0.5, 0, 0.8</Set>
                    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
                    <Set name="lifeTime">1</Set>
                    <Set name="initialVelocity">0,-80</Set>
                    <Curve name="initialScale">
                        <KeyFrame>0, 5,0.5</KeyFrame>
                        <KeyFrame>1, 1,0.5</KeyFrame>
                    </Curve>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 1</KeyFrame>
                        <KeyFrame>0.7, 1</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_RespawnBack2" updateStage="OnKilled" renderStage="RenderBehind">
                <Emitter>
                    <Set name="offset">-5, -50</Set>
                    <Set name="lifeTime">1</Set>
                    <Set name="infParticles">true</Set>
                    <Set name="checkParticleNumToEmit">true</Set>
                    <Set name="particlesPerEmission">5</Set>
                    <Set name="particlesToEmit">1</Set>
                </Emitter>
                <Particle usePlayerFacing="true">
                    <Set name="sprite">s_punchAura</Set>
                    <Set name="relativeToEmitter">true</Set>
                    <Set name="inSpecificOrder">true</Set>
                    <Set name="initalRGB">0.5, 0, 0.8</Set>
                    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
                    <Set name="lifeTime">1</Set>
                    <Set name="initialVelocity">0,80</Set>
                    <Curve name="initialScale">
                        <KeyFrame>0, 5,0.5</KeyFrame>
                        <KeyFrame>1, 1,0.5</KeyFrame>
                    </Curve>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 1</KeyFrame>
                        <KeyFrame>0.7, 1</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_RespawnAura" updateStage="OnKilled" renderStage="RenderBehind">
                <Emitter>
                    <Set name="offset">0, -45</Set>
                    <Set name="lifeTime">1</Set>
                    <Set name="infParticles">true</Set>
                    <Set name="checkParticleNumToEmit">true</Set>
                    <Set name="particlesPerEmission">1</Set>
                    <Set name="particlesToEmit">1</Set>
                </Emitter>
                <Particle usePlayerFacing="true">
                    <Set name="sprite">s_portal1</Set>
                    <Set name="relativeToEmitter">true</Set>
                    <Set name="inSpecificOrder">true</Set>
                    <Set name="initalRGB">0.5, 0, 0.8</Set>
                    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
                    <Set name="initialRotationRate">360</Set>
                    <Set name="lifeTime">1</Set>
                    <Curve name="initialScale">
                        <KeyFrame>0, 5, 5</KeyFrame>
                        <KeyFrame>0.7, 10, 10</KeyFrame>
                        <KeyFrame>1, 1, 1</KeyFrame>
                    </Curve>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 1</KeyFrame>
                        <KeyFrame>0.9, 1</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_punchAuraBehind" updateStage="AddClothingParticles" renderStage="RenderBehind" updateState="Punch.True">
                <Emitter>
                    <Set name="offset">0, -45</Set>
                    <Set name="lifeTime">1</Set>
                    <Set name="infParticles">true</Set>
                    <Set name="checkParticleNumToEmit">true</Set>
                    <Set name="particlesPerEmission">1</Set>
                    <Set name="particlesToEmit">1</Set>
                </Emitter>
                <Particle usePlayerFacing="true">
                    <Set name="sprite">s_punchAura</Set>
                    <Set name="relativeToEmitter">true</Set>
                    <Set name="inSpecificOrder">true</Set>
                    <Set name="initalRGB">0.5, 0, 0.8</Set>
                    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
                    <Set name="lifeTime">1</Set>
                    <Set name="initialRotationRate">360</Set>
                    <Curve name="initialScale">
                        <KeyFrame>0, 2, 2</KeyFrame>
                        <KeyFrame>1, 2, 2</KeyFrame>
                    </Curve>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 1</KeyFrame>
                        <KeyFrame>0.7, 1</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_punchAuraBehind1" updateStage="AddClothingParticles" renderStage="RenderBehind" updateState="Punch.True">
                <Emitter>
                    <Set name="offset">0, -60</Set>
                    <Set name="lifeTime">1</Set>
                    <Set name="infParticles">true</Set>
                    <Set name="checkParticleNumToEmit">true</Set>
                    <Set name="particlesPerEmission">1</Set>
                    <Set name="particlesToEmit">1</Set>
                </Emitter>
                <Particle usePlayerFacing="true">
                    <Set name="sprite">Portal_Gate</Set>
                    <Set name="relativeToEmitter">true</Set>
                    <Set name="inSpecificOrder">true</Set>
                    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
                    <Set name="lifeTime">1</Set>
                    <Curve name="initialScale">
                        <KeyFrame>0, 3.5, 3.5</KeyFrame>
                        <KeyFrame>1, 3.5, 3.5</KeyFrame>
                    </Curve>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 1</KeyFrame>
                        <KeyFrame>0.9, 1</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="PunchParticle" updateStage="AddClothingParticles" updateState="Punch.True">
                <Emitter>
                    <Set name="offset">70, -30</Set>
                    <Random name="emissionInterval" min="0.001" max="0.005" />
                    <Set name="infParticles">true</Set>
                    <Set name="infLifeTime">true</Set>
                    <Set name="particlesPerEmission">1</Set>
                </Emitter>
                <Particle>
                    <Particle usePlayerFacing="true"></Particle>
                    <Set name="sprite">s_PunchFireSprite</Set>
                    <Set name="blendingMode">ADDITIVE</Set>
                    <Set name="rotateWithVelocity">true</Set>
                    <Set name="initalRGB">0.5, 0, 0.3</Set>
                    <Curve name="initialScale">
                        <KeyFrame>0, 2, 2</KeyFrame>
                        <KeyFrame>1, 5, 5</KeyFrame>
                    </Curve>
                    <Set name="lifeTime">0.35</Set>
                    <Random name="targetPosOffset" min="-12,-8" max="12,8"/>
                    <VectorTo name="initialVelocity" source="targetPos" offset="targetPosOffset" duration="lifeTime" x="0.7" angleOutVar="projectile_angle"/>
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_rain">
                <Emitter>
                    <Random name="offset" min="-60, -50" max="40, -55" />
                    <Random name="emissionInterval" min="0.07" max="0.14" />
                    <Set name="infParticles">true</Set>
                    <Set name="infLifeTime">true</Set>
                    <Set name="particlesPerEmission">1</Set>
                </Emitter>
                <Particle randomSpriteFrame="true">
                    <Set name="sprite">s_snowflakes</Set>
                    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
                    <Set name="inSpecificOrder">true</Set>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 0.8</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                    <Random name="initialScale" min="0.35" max="0.90" />
                    <Set name="lifeTime">1.5</Set>
                    <Random name="initialVelocity" min="-20, 40" max="30, 60" />
                    <Random name="initialAngle" min="0" max="-360" />
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_smoke">
                <Emitter>
                    <Random name="offset" min="0, 45" max="0, 45" />
                    <Random name="emissionInterval" min="0.2" max="0.5" />
                    <Set name="infParticles">true</Set>
                    <Set name="infLifeTime">true</Set>
                    <Set name="particlesPerEmission">2</Set>
                </Emitter>
                <Particle>
                    <Set name="sprite">s_smoke</Set>
                    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
                    <Set name="lifeTime">2</Set>
                    <Set name="inSpecificOrder">true</Set>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 0</KeyFrame>
                        <KeyFrame>0.5, 0.8</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                    <Random name="initialVelocity" min="-30,0" max="30,0"/>
                    <Random name="initialScale" min="3" max="4" />
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_shieldFlames_left">
                <Emitter>
                    <Random name="offset" min="55, -20" max="60, -25" />
                    <Random name="emissionInterval" min="0.05" max="0.1" />
                    <Set name="infParticles">true</Set>
                    <Set name="infLifeTime">true</Set>
                    <Set name="particlesPerEmission">1</Set>
                </Emitter>
                <Particle>
                    <Set name="sprite">s_idleFlame</Set>
                    <Set name="blendingMode">ADDITIVE</Set>
                    <Set name="lifeTime">1.2</Set>
                    <Set name="initialVelocity">0,-3</Set>
                    <Set name="inSpecificOrder">true</Set>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 0</KeyFrame>
                        <KeyFrame>0.5, 0.4</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                    <Random name="initialScale" min="0.3" max="0.6" />
                    <Random name="initialAngle" min="40" max="40" />
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_shieldFlames_right">
                <Emitter>
                    <Random name="offset" min="55, -20" max="60, -25" />
                    <Random name="emissionInterval" min="0.05" max="0.1" />
                    <Set name="infParticles">true</Set>
                    <Set name="infLifeTime">true</Set>
                    <Set name="particlesPerEmission">1</Set>
                </Emitter>
                <Particle>
                    <Set name="sprite">s_idleFlame</Set>
                    <Set name="blendingMode">ADDITIVE</Set>
                    <Set name="lifeTime">1.2</Set>
                    <Set name="initialVelocity">0,-3</Set>
                    <Set name="inSpecificOrder">true</Set>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 0</KeyFrame>
                        <KeyFrame>0.5, 0.4</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                    <Random name="initialScale" min="0.3" max="0.6" />
                    <Random name="initialAngle" min="-40" max="-40" />
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_jump_prop1_left" updateStage="AddClothingParticles" updateState="Motion.Jump">
                <Emitter>
                    <Set name="offset">-30, 50</Set>
                    <Random name="emissionInterval" min="5" max="5" />
                    <Set name="infParticles">true</Set>
                    <Set name="offsetFacing">false</Set>
                    <Set name="infLifeTime">true</Set>
                    <Set name="particlesPerEmission">1</Set>
                </Emitter>
                <Particle>
                    <Set name="sprite">s_jump_prop1</Set>
                    <Set name="initalRGB">0.3, 0.2, 0.3</Set>
                    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 1</KeyFrame>
                        <KeyFrame>0.5, 1</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                    <Curve name="initialScale">
                        <KeyFrame>0, 0,0</KeyFrame>
                        <KeyFrame>1, 5.5,5.5</KeyFrame>
                    </Curve>
                    <Set name="lifeTime">1</Set>
                    <Random name="initialVelocity" min="-15, 10" max="-15, 10" />
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_jump_prop1_right" updateStage="AddClothingParticles" updateState="Motion.Jump">
                <Emitter>
                    <Set name="offset">30, 50</Set>
                    <Random name="emissionInterval" min="5" max="5" />
                    <Set name="infParticles">true</Set>
                    <Set name="offsetFacing">false</Set>
                    <Set name="infLifeTime">true</Set>
                    <Set name="particlesPerEmission">1</Set>
                </Emitter>
                <Particle>
                    <Set name="sprite">s_jump_prop1</Set>
                    <Set name="initalRGB">0.3, 0.2, 0.3</Set>
                    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 1</KeyFrame>
                        <KeyFrame>0.5, 1</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                    <Curve name="initialScale">
                        <KeyFrame>0, 0,0</KeyFrame>
                        <KeyFrame>1, 5.5,5.5</KeyFrame>
                    </Curve>
                    <Set name="lifeTime">1</Set>
                    <Set name="flipX">true</Set>
                    <Random name="initialVelocity" min="15, 10" max="15, 10" />
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_Aura">
                <Emitter>
                    <Set name="offset">0, -10</Set>
                    <Set name="emissionInterval">0.15</Set>
                    <Set name="infParticles">true</Set>
                    <Set name="infLifeTime">true</Set>
                    <Set name="particlesPerEmission">1</Set>
                </Emitter>
                <Particle>
                    <Set name="sprite">s_aura</Set>
                    <Set name="relativeToEmitter">true</Set>
                    <Set name="initalRGB">1, 0, 1</Set>
                    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 1</KeyFrame>
                        <KeyFrame>0.4, 0.75</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                    <Set name="isBackgroundParticle">true</Set>
                    <Curve name="initialScale">
                        <KeyFrame>0, 1, 0.75</KeyFrame>
                        <KeyFrame>1, 1, 1.25</KeyFrame>
                    </Curve>
                    <Set name="lifeTime">0.3</Set>
                    <Set name="initialVelocity">0, -60</Set>
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_Aura_fire" updateStage="AddClothingParticles" updateState="Punch.True">
                <Emitter>
                    <Set name="offset">-10, 2</Set>
                    <Set name="emissionInterval">0.15</Set>
                    <Set name="infParticles">true</Set>
                    <Set name="infLifeTime">true</Set>
                    <Set name="particlesPerEmission">3</Set>
                </Emitter>
                <Particle>
                    <Set name="sprite">s_aura_fire</Set>
                    <Set name="relativeToEmitter">true</Set>
                    <Set name="initalRGB">0.3, 0, 0.8</Set>
                    <Set name="blendingMode">PREMULTIPLIED_ALPHA</Set>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 1</KeyFrame>
                        <KeyFrame>0.4, 0.75</KeyFrame>
                        <KeyFrame>1, 0</KeyFrame>
                    </Curve>
                    <Set name="isBackgroundParticle">true</Set>
                    <Curve name="initialScale">
                        <KeyFrame>0, 1, 1</KeyFrame>
                        <KeyFrame>1, 4, 4</KeyFrame>
                    </Curve>
                    <Set name="lifeTime">0.3</Set>
                    <Set name="initialVelocity">0, -60</Set>
                </Particle>
            </ParticleSystem>
            <ParticleSystem name="ps_trail">
                <Emitter>
                    <Set name="particlesPerEmission">4</Set>
                    <Set name="particlesToEmit">1</Set>
                    <Random name="emissionInterval" min="0.1" max="0.2" />
                    <Set name="infParticles">true</Set>
                    <Set name="infLifeTime">true</Set>
                    <Set name="useCharacterPos">true</Set>
                    <Set name="offset">-16,5</Set>
                </Emitter>
                <Particle usePlayerFacing="true">
                    <Set name="sprite">s_trail</Set>
                    <Set name="lifeTime">5</Set>
                    <Set name="initalRGB">0.1, 0, 1</Set>
                    <Set name="blendingMode">ADDITIVE</Set>
                    <Set name="inSpecificOrder">true</Set>
                    <Set name="renderAlignment">DOWN_CENTER</Set>
                    <Curve name="initialAlpha">
                        <KeyFrame>0, 0.8</KeyFrame>
                        <KeyFrame>0.3, 1</KeyFrame>
                        <KeyFrame>0.7, 1</KeyFrame>
                        <KeyFrame>1, 0.5</KeyFrame>
                    </Curve>
                    <Curve name="initialScale">
                        <KeyFrame>0, 1, 1</KeyFrame>
                        <KeyFrame>0.2, 2, 2</KeyFrame>
                        <KeyFrame>1, 1, 1</KeyFrame>
                    </Curve>
                </Particle>
            </ParticleSystem>
        </ParticleSystems>
    </Data>
    <RenderRules>
        <OnDrawCustomOutline>
            <AvatarTransform class="RenderData">
                <Set name="saturation">getCurrent</Set>
                <Set name="brightness">getCurrent</Set>
                <Set name="contrast">getCurrent</Set>
            </AvatarTransform>
            <AvatarTransform class="Scale">
                <Set name="targetScale">getCurrent</Set>
            </AvatarTransform>
            <AvatarTransform class="RenderData">
                <Set name="saturation">10</Set>
                <Set name="brightness">getCurrent</Set>
                <Set name="contrast">getCurrent</Set>
            </AvatarTransform>
            <AvatarOutline duration="1500" startScale="1,1" endScale="1.0.5,1.0.5">
                <Colours>
                    <Colour>150,0,255,255</Colour>
                    <Colour>150,0,255,255</Colour>
                    <Colour>150,0,255,255</Colour>
                </Colours>
            </AvatarOutline>
            <AvatarTransform class="RenderData">
                <Set name="saturation">10</Set>
                <Set name="brightness">getCurrent</Set>
                <Set name="contrast">getCurrent</Set>
            </AvatarTransform>
            <AvatarOutline duration="1500" startScale="1,1" endScale="1.05,1.05">
                <Colours>
                    <Colour>150,0,200,255</Colour>
                </Colours>
            </AvatarOutline>
            <AvatarTransform class="RenderData">
                <Set name="saturation">reset</Set>
                <Set name="brightness">reset</Set>
                <Set name="contrast">reset</Set>
            </AvatarTransform>
            <AvatarTransform class="Scale">
                <Set name="targetScale">reset</Set>
            </AvatarTransform>
        </OnDrawCustomOutline>
        <Update>
            <StopIf>
                <IsZombified>true</IsZombified>
            </StopIf>
            <AvatarTransform class="FootPosition">
                <Set name="foot1dy">0</Set>
                <Set name="foot2dy">0</Set>
                <Set name="foot1y">0</Set>
                <Set name="foot2y">0</Set>
            </AvatarTransform>
            <AvatarTransform class="ArmAngle" onState="Motion.Move">
                <Set name="armName">arm2Angle</Set>
                <Set name="armAngle">-45</Set>
            </AvatarTransform>
            <AvatarTransform class="ArmAngle" onState="Motion.Move">
                <Set name="armName">arm1Angle</Set>
                <Set name="armAngle">-45</Set>
            </AvatarTransform>
            <AvatarTransform class="ArmAngle" onState="Motion.Fall">
                <Set name="armName">arm2Angle</Set>
                <Set name="armAngle">-180</Set>
            </AvatarTransform>
            <AvatarTransform class="ArmAngle" onState="Motion.Fall">
                <Set name="armName">arm1Angle</Set>
                <Set name="armAngle">-180</Set>
            </AvatarTransform>
            <StopIf type="or">
                <IsRenderMod>RENDER_MOD_SPIRIT_GUIDE</IsRenderMod>
                <IsRenderMod>RENDER_MOD_MINI_YOU</IsRenderMod>
            </StopIf>
        </Update>
        <AddClothingParticles>
            <ParticleSystemUpdate name="ps_Aura"/>
            <ParticleSystemUpdate name="ps_trail" onState="Motion.Move"/>
            <ParticleSystemUpdate name="ps_smoke"/>
            <ParticleSystemUpdate name="ps_rain"/>
            <ParticleSystemUpdate name="ps_shieldFlames_left"/>
            <ParticleSystemUpdate name="ps_shieldFlames_right"/>
        </AddClothingParticles>
        <RenderInFront>
            <MusicSource onState="Motion.Idle">
                <Set name="MusicFile">cache/audio/shadow_grwl_sfx.wav</Set>
                <Set name="FadeOutTimeMs">100</Set>
            </MusicSource>
            <ParticleSystemRender name="ps_Aura"/>
            <Group onState="Reveal.Done">
                <SpriteRender name="s_ray_extra" offset="-35,-2" alignment="CENTER" onState="Motion.Move|Motion.Jump|Punch.True" />
            </Group>
        </RenderInFront>
        <RenderBehind>
        </RenderBehind>
        <RenderShoes >
            <Group onState="Reveal.No">
                <SpriteRender name="s_portal1" offset="0,0" flip="1,0" drawShadow="false" onState="Reveal.No" tintOverride="10,10,100,255"/>
                <Group onState="Facing.Right">
                    <SpriteRender name="s_shoe1" offset="0.5,-16.5" tintOverride="SKIN" />
                    <SpriteRender name="s_shoe2" offset="0.5,-16.5" tintOverride="SKIN"/>
                    <SpriteRender name="s_ray_walk" offset="0,0" onState="Reveal.No"/>
                </Group>
                <Group onState="Facing.Left">
                    <SpriteRender name="s_shoe1" offset="-0.5,-16.5" tintOverride="SKIN" />
                    <SpriteRender name="s_shoe2" offset="-0.5,-16.5" tintOverride="SKIN"/>
                    <SpriteRender name="s_ray_walk" offset="0,0" flip="1,0" onState="Reveal.No"/>
                </Group>
                <SpriteRender name="s_portal" offset="0,0" flip="1,0" drawShadow="false" onState="Reveal.No" tintOverride="40,10,100,255"/>
            </Group>
            <Group onState="Reveal.Done">
                <SpriteRender name="s_punchAura" offset="-5,50" scale="5,0.5" alignment="CENTER" onState="Motion.Idle|Motion.Punch" tintOverride="196,39,255,255"/>
                <SpriteRender name="s_punchAura" offset="-5,50" scale="3.5,0.4" alignment="CENTER" onState="Motion.Idle|Motion.Punch" tintOverride="50,0,255,255"/>
                <AvatarSilhouetteRender color="10,10,10,100" offset ="0,30" emissionInterval="0.10" onState="Mobility.Moving"/>
                <Group onState="Facing.Left">
                    <SpriteRender name="s_shoe1" offset="0.5,-16.5" tintOverride="SKIN" />
                    <SpriteRender name="s_shoe2" offset="0.5,-16.5" tintOverride="SKIN"/>
                    <SpriteRender name="s_ray" offset="-35,-5.8" alignment="CENTER" onState="Motion.Idle" />
                    <SpriteRender name="s_ray_fall" offset="-35,-6.8" alignment="CENTER" onState="Motion.Fall" />
                    <SpriteRender name="s_ray_fly" offset="-35,-10.8" alignment="CENTER" onState="Motion.Move|Motion.Jump|Punch.True"/>
                    <ParticleSystemRender name="ps_shieldFlames_left"/>
                </Group>
                <Group onState="Facing.Right">
                    <SpriteRender name="s_shoe1" offset="0.5,-16.5" tintOverride="SKIN" />
                    <SpriteRender name="s_shoe2" offset="0.5,-16.5" tintOverride="SKIN"/>
                    <SpriteRender name="s_ray" offset="-35,-6.8" alignment="CENTER" onState="Motion.Idle" />
                    <SpriteRender name="s_ray_fall" offset="-35,-10.8" alignment="CENTER" onState="Motion.Fall" />
                    <SpriteRender name="s_ray_fly" offset="-35,-10.8" alignment="CENTER" onState="Motion.Move|Motion.Jump|Motion.Punch"/>
                    <ParticleSystemRender name="ps_shieldFlames_right"/>
                </Group>
                <ParticleSystemRender name="ps_smoke"/>
                <ParticleSystemRender name="ps_trail"/>
                <ParticleSystemRender name="ps_rain"/>
            </Group>
        </RenderShoes>
    </RenderRules>
</ItemRenderer>
